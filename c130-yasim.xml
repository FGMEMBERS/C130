<!--  C130 YASim config. - 2007 BARANGER Emmanuel
      Envergure : 40.4 m (132 ft 7 in)
      Longueur  : 29.8 m (97 ft 9 in)
      Hauteur   : 11.6 m (38 ft 3 in)
      Poids vide: 38000 kg (83000 lb)
      Moteurs   : 4 Allison T56-A-15 turboprops de 4,500 ch chacun pour 871 kg (1920 lb)
      Vitesse   : 540 km/h (292 kts)
-->

<airplane mass="83000">

  <!-- Configuration d'approche -->
  <approach speed="70" aoa="12">
    <control-setting axis="/controls/engines/engine[0]/throttle" value="0.1"/>
    <control-setting axis="/controls/engines/engine[0]/propeller-pitch" value="1.0"/>
    <control-setting axis="/controls/engines/engine[1]/throttle" value="0.1"/>
    <control-setting axis="/controls/engines/engine[1]/propeller-pitch" value="1.0"/>
    <control-setting axis="/controls/engines/engine[2]/throttle" value="0.1"/>
    <control-setting axis="/controls/engines/engine[2]/propeller-pitch" value="1.0"/>
    <control-setting axis="/controls/engines/engine[3]/throttle" value="0.1"/>
    <control-setting axis="/controls/engines/engine[3]/propeller-pitch" value="1.0"/>
    <control-setting axis="/controls/flight/flaps" value="1.0"/>
    <control-setting axis="/controls/gear/gear-down" value="1"/>
  </approach>

<!-- Configuration de croisière -->
  <cruise speed="292" alt="28000">
    <control-setting axis="/controls/engines/engine[0]/throttle" value="1.0"/>
    <control-setting axis="/controls/engines/engine[0]/propeller-pitch" value="0.36"/>
    <control-setting axis="/controls/engines/engine[1]/throttle" value="1.0"/>
    <control-setting axis="/controls/engines/engine[1]/propeller-pitch" value="0.36"/>
    <control-setting axis="/controls/engines/engine[2]/throttle" value="1.0"/>
    <control-setting axis="/controls/engines/engine[2]/propeller-pitch" value="0.36"/>
    <control-setting axis="/controls/engines/engine[3]/throttle" value="1.0"/>
    <control-setting axis="/controls/engines/engine[3]/propeller-pitch" value="0.36"/>
    <control-setting axis="/controls/flight/flaps" value="0.0"/>
    <control-setting axis="/controls/gear/gear-down" value="0"/>
  </cruise>

  <cockpit x="10.333" y="0.598" z="3.005"/>

  <!-- Fuselage -->
  <fuselage ax="13.224" ay="0" az="1.173" bx="-16.415" by="0" bz="4.169" width="4.304" taper="0.5" midpoint="0.5"/>

  <!-- Ailes -->
  <wing x="-1.486" y="1.240" z="3.660" 
        taper="0.52"
        length="18.680" 
        chord="5.201" 
        sweep="0"
        dihedral="1.0" 
        camber="0.08" 
        incidence="0">
        <stall aoa="16.0" width="5" peak="1.3"/>
        <flap0 start="0.0" end="0.6" lift="1.5" drag="1.6"/>
        <flap1 start="0.6" end="0.9" lift="1.2" drag="1.3"/>

        <control-input axis="/controls/flight/flaps" control="FLAP0"/>
        <control-input axis="/controls/flight/aileron" control="FLAP1" split="true"/>
        <control-input axis="/controls/flight/aileron-trim" control="FLAP1" split="true"/>
 
        <control-output control="FLAP0" prop="/surface-positions/flap-pos-norm"/>

        <control-output control="FLAP1" side="left" prop="/surface-positions/left-aileron-pos-norm"/>
        <control-output control="FLAP1" side="right" prop="/surface-positions/right-aileron-pos-norm"/>

        <control-speed control="FLAP0" transition-time="15"/>
        <control-speed control="FLAP1" transition-time="1.0"/>
  </wing>

  <!-- Gouverne de profondeur -->
  <hstab x="-12.648" y="0.370" z="4.090" 
         taper="0.43" 
         length="7.247" 
         chord="4.494" 
         sweep="0" 
         dihedral="0.0">
         <stall aoa="20.0" width="4" peak="1.5"/>
         <flap0 start="0" end="1" lift="1.5" drag="1.4"/>

         <control-input axis="/controls/flight/elevator" control="FLAP0"/>
         <control-input axis="/controls/flight/elevator-trim" control="FLAP0"/>

         <control-output control="FLAP0" side="left" prop="/surface-positions/elevator-pos-norm"/>

         <control-speed control="FLAP0" transition-time="2.0"/>
  </hstab>

  <!-- Gouverne de direction -->
  <vstab x="-12.181" y="0" z="4.296" 
         taper="0.32"
         length="6.704" 
         chord="5.776" 
         sweep="30">
         <stall aoa="16.0" width="4" peak="1.5"/>
         <flap0 start="0.25" end="0.8" lift="1.8" drag="1.5"/>

         <control-input axis="/controls/flight/rudder" control="FLAP0" effectiveness="1.0" invert="true"/>
         <control-input axis="/controls/flight/rudder-trim" control="FLAP0" invert="true"/>

         <control-output control="FLAP0" prop="/surface-positions/rudder-pos-norm"/>

        <control-speed control="FLAP0" transition-time="2.0"/>
  </vstab>

  <!-- Moteurs et hélices -->
  <!-- Extérieur gauche -->
  <propeller x="1.209" y="9.821" z="3.307"
               mass="1920" 
               moment="110" 
	       radius="2.0" 
	       cruise-speed="292"
	       cruise-rpm="1200"
	       cruise-power="4000"
	       cruise-alt="25000"
	       min-rpm="2100" 
	       max-rpm="1400"
	       gear-ratio="3.35"> 
      <actionpt x="3.764" y="9.821" z="3.622"/>
      <turbine-engine eng-power="4500" 
	 	      eng-rpm="13820"
	 	      alt="28000"
	 	      flat-rating="1250"
		      min-n2="70" 
		      max-n2="100"/> 
      <control-input axis="/controls/engines/engine[0]/propeller-pitch" control="ADVANCE"/>
      <control-input axis="/controls/engines/engine[0]/throttle" control="THROTTLE"/>
      <control-input axis="/controls/engines/engine[0]/starter" control="STARTER"/>
      <control-input axis="/controls/engines/engine[0]/magnetos" control="MAGNETOS"/>
      <control-input axis="/controls/engines/engine[0]/mixture" control="MIXTURE"/>
      <control-input axis="/controls/engines/engine[0]/boost" control="BOOST"/>
    </propeller>

  <!-- Intérieur gauche -->
  <propeller x="1.209" y="4.929" z="3.307"
               mass="1920" 
               moment="-110" 
	       radius="2.0" 
	       cruise-speed="292"
	       cruise-rpm="1200"
	       cruise-power="4000"
	       cruise-alt="25000"
	       min-rpm="2100" 
	       max-rpm="1400"
	       gear-ratio="3.35"> 
      <actionpt x="3.764" y="4.926" z="3.622"/>
      <turbine-engine eng-power="4500" 
	 	      eng-rpm="13820"
	 	      alt="28000"
	 	      flat-rating="1250"
		      min-n2="70" 
		      max-n2="100"/> 
      <control-input axis="/controls/engines/engine[1]/propeller-pitch" control="ADVANCE"/>
      <control-input axis="/controls/engines/engine[1]/throttle" control="THROTTLE"/>
      <control-input axis="/controls/engines/engine[1]/starter" control="STARTER"/>
      <control-input axis="/controls/engines/engine[1]/magnetos" control="MAGNETOS"/>
      <control-input axis="/controls/engines/engine[1]/mixture" control="MIXTURE"/>
      <control-input axis="/controls/engines/engine[1]/boost" control="BOOST"/>
    </propeller>

  <!-- Interieur droit -->
  <propeller x="1.209" y="-4.929" z="3.307"
               mass="1920" 
               moment="110" 
	       radius="2.0" 
	       cruise-speed="292"
	       cruise-rpm="1200"
	       cruise-power="4000"
	       cruise-alt="25000"
	       min-rpm="2100" 
	       max-rpm="1400"
	       gear-ratio="3.35"> 
      <actionpt x="3.764" y="-4.926" z="3.622"/>
      <turbine-engine eng-power="4500" 
	 	      eng-rpm="13820"
	 	      alt="28000"
	 	      flat-rating="1250"
		      min-n2="70" 
		      max-n2="100"/> 
      <control-input axis="/controls/engines/engine[2]/propeller-pitch" control="ADVANCE"/>
      <control-input axis="/controls/engines/engine[2]/throttle" control="THROTTLE"/>
      <control-input axis="/controls/engines/engine[2]/starter" control="STARTER"/>
      <control-input axis="/controls/engines/engine[2]/magnetos" control="MAGNETOS"/>
      <control-input axis="/controls/engines/engine[2]/mixture" control="MIXTURE"/>
      <control-input axis="/controls/engines/engine[2]/boost" control="BOOST"/>
    </propeller>

  <!-- Extérieur droit -->
  <propeller x="1.209" y="-9.821" z="3.307"
               mass="1920" 
               moment="-110" 
	       radius="2.0" 
	       cruise-speed="292"
	       cruise-rpm="1200"
	       cruise-power="4000"
	       cruise-alt="25000"
	       min-rpm="210" 
	       max-rpm="1400"
	       gear-ratio="3.35"> 
      <actionpt x="3.764" y="-9.821" z="3.622"/>
      <turbine-engine eng-power="4500" 
	 	      eng-rpm="13820"
	 	      alt="28000"
	 	      flat-rating="1250"
		      min-n2="70" 
		      max-n2="100"/> 
      <control-input axis="/controls/engines/engine[3]/propeller-pitch" control="ADVANCE"/>
      <control-input axis="/controls/engines/engine[3]/throttle" control="THROTTLE"/>
      <control-input axis="/controls/engines/engine[3]/starter" control="STARTER"/>
      <control-input axis="/controls/engines/engine[3]/magnetos" control="MAGNETOS"/>
      <control-input axis="/controls/engines/engine[3]/mixture" control="MIXTURE"/>
      <control-input axis="/controls/engines/engine[3]/boost" control="BOOST"/>
    </propeller>

  <!-- Poition des roues au sol -->
  <!-- Nez -->
  <gear x="9.511" y="0" z="-0.898" 
        retract-time="7" 
        compression="0.2" 
        spring="0.2">
        <control-input axis="/controls/flight/rudder" control="STEER" square="true"/>
        <control-input axis="/controls/gear/gear-down" control="EXTEND"/>
        <control-output control="STEER" prop="/gear/gear[0]/steering-norm"/>
        <control-output control="EXTEND" prop="/gear/gear[0]/position-norm"/>
        <control-speed control="EXTEND" transition-time="7"/>
  </gear>

  <!-- Gauche avant -->
  <gear x="0.831" y="2.125" z="-0.896" 
        retract-time="7" 
        compression="0.2" 
        spring="0.6">
        <control-input axis="/controls/gear/brake-left" control="BRAKE"/>
        <control-input axis="/controls/gear/brake-parking" control="BRAKE"/>
        <control-input axis="/controls/gear/gear-down" control="EXTEND"/>
        <control-output control="EXTEND" prop="/gear/gear[1]/position-norm"/>
        <control-speed control="EXTEND" transition-time="10"/>
  </gear>

  <!-- Droite avant -->
  <gear x="0.831" y="-2.125" z="-0.896" 
        retract-time="7" 
        compression="0.2" 
        spring="0.6">
        <control-input axis="/controls/gear/brake-right" control="BRAKE"/>
        <control-input axis="/controls/gear/brake-parking" control="BRAKE"/>
        <control-input axis="/controls/gear/gear-down" control="EXTEND"/>
        <control-output control="EXTEND" prop="/gear/gear[2]/position-norm"/>
        <control-speed control="EXTEND" transition-time="10"/>
  </gear>

  <!-- Gauche arrière -->
  <gear x="-0.702" y="2.125" z="-0.896" 
        retract-time="7" 
        compression="0.2" 
        spring="0.6">
        <control-input axis="/controls/gear/brake-left" control="BRAKE"/>
        <control-input axis="/controls/gear/brake-parking" control="BRAKE"/>
        <control-input axis="/controls/gear/gear-down" control="EXTEND"/>
        <control-output control="EXTEND" prop="/gear/gear[3]/position-norm"/>
        <control-speed control="EXTEND" transition-time="10"/>
  </gear>

  <!-- Droite arrière -->
  <gear x="-0.702" y="-2.125" z="-0.896" 
        retract-time="7" 
        compression="0.2" 
        spring="0.6">
        <control-input axis="/controls/gear/brake-right" control="BRAKE"/>
        <control-input axis="/controls/gear/brake-parking" control="BRAKE"/>
        <control-input axis="/controls/gear/gear-down" control="EXTEND"/>
        <control-output control="EXTEND" prop="/gear/gear[4]/position-norm"/>
        <control-speed control="EXTEND" transition-time="10"/>
  </gear>

  <!-- Réservoirs de carburant d'après "http://www.aviation-fr.info/guide/hercules.php"-->
  <!-- 1 et 4 - Réservoirs principaux d'extrémités                  4940 litres / 1300 gallons / 10881 livres -->
  <tank x="-1.187" y="14.732" z="3.927" capacity="10881"/>
  <tank x="-1.187" y="-14.732" z="3.927" capacity="10881"/>
  <!-- 2 et 3 - Réservoirs principaux intérieurs                    4560 litres / 1200 gallons / 10044 livres -->
  <tank x="-1.479" y="7.041" z="3.796" capacity="10044"/>
  <tank x="-1.479" y="-7.041" z="3.796" capacity="10044"/>
  <!-- 5 et 6 - Réservoirs auxiliaires                              3458 litres / 910  gallons / 7616  livres --> 
  <tank x="-1.479" y="2.451" z="3.770" capacity="7616"/>
  <tank x="-1.479" y="-2.451" z="3.770" capacity="7616"/>

  <!-- 7 et 8 - Réservoirs supplémentaires sur pylones              5320 litres / 1400 gallons / 11728 livres -->
  <!-- non utilisé pour le moment
  <tank x="-1.178" y="7.108" z="2.305" capacity="11728"/>
  <tank x="-1.178" y="-7.108" z="2.305" capacity="11728"/> -->

  <!-- Ballast CG au centre de la corde des ailes x=1.469 y=0 z=3.772-->
  <ballast x="179.50" y="0.0" z="7.60" mass="2450"/>
  
</airplane>
